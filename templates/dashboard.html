<!doctype html>
<html lang="en" >

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
  <nav class="navbar navbar-expand-lg " style="background-color: #04101c;">
    <div class="container-fluid">
      <a class="navbar-brand" href="#"
        style="font-size: xxx-large;font-weight: bolder;color: white;font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;">MY
        DUKA</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="/" style="color: white;font-weight: bolder;">Home</a>
          </li>
          {% if "email" in session %}
          <li class="nav-item">
            <a class="nav-link" href="/dashboard" style="color: white;font-weight: bolder;">dashboard</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/products" style="color: white;font-weight: bolder;">products</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/sales" style="color: white;font-weight: bolder;">sales</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/logout" style="color: white;font-weight: bolder;">logout</a>
          </li>
          {% else %}
          <li class="nav-item">

            <a class="nav-link" href="/register" style="color: white;font-weight: bolder;">register</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/login" style="color: white;font-weight: bolder;">login</a>
          </li>



          {% endif %}
        </ul>
      </div>
    </div>
  </nav>
  <h1>DASHBOARD</h1>
  <div class="row">
    <div class="col col-lg-4 col-sm-4 col-md-4">
  <div class="card text-bg-dark mb-3" style="max-width: 18rem;">
    
    <div class="card-header"><h4>TOTAL SALES</h4></div>
    <div class="card-body">
      <h4 class="card-title"></h4>
      <h4 class="card-text">{%for i in tatal_s%}
        {{i[0]}}
        {%endfor%}
      </h4>
    </div>
  </div>
</div>

<div class="col col-lg-4 col-sm-4 col-md-4">
  <div class="card text-bg-dark mb-3" style="max-width: 18rem;">
    <div class="card-header"><h4>TOTAL PROFITS</h4></div>
    <div class="card-body">
      <h4 class="card-title"></h4>
      <h4 class="card-text">{%for i in total_p%}
        {{i[0]}}  
        {%endfor%}
      </h4>
    </div>
  </div>
</div>

<div class="col col-lg-4 col-sm-4 col-md-4">
  <div class="card text-bg-dark mb-3" style="max-width: 18rem;">
    <div class="card-header"><h4>SALES TODAY</h4></div>
    <div class="card-body">
        <h4 class="card-title"></h4>
        <h4 class="card-text">
                {% for i in today_sales %}
                  {{i[1]}}
                  <h7>on</h7><br>
                  {{i[0]}}
                {% endfor %}
           
        </h4>
    </div>
</div>
  </div>



</div>


<div class="row">

  <div class="col col-lg-4 col-sm-4 col-md-4">
<div class="card text-bg-dark mb-3" style="max-width: 18rem;">
  <div class="card-header"><h5>TOP SELLING PRODUCT</h5></div>
  <div class="card-body">
    <h4 class="card-title"></h4>
    <h5 class="card-text">
      {% for i in top_pro %}
          {{ i[0] }} at {{ i[1] }}
      {% endfor %}
    </h5>
  </div>
</div>
  </div>


<div class="col col-lg-4 col-sm-4 col-md-4">
<div class="card text-bg-dark mb-3" style="max-width: 18rem;">
  <div class="card-header"><h5>TOP PROFITABLE PRODUCT</h5></div>
  <div class="card-body">
    <h4 class="card-title"></h4>
    <h5 class="card-text">
      {% for i in top_profit %}
          {{ i[0] }} at {{ i[1] }}
      {% endfor %}
    </h5>
  </div>
</div>
</div>

<div class="col col-lg-4 col-sm-4 col-md-4">
  <div class="card text-bg-dark mb-3" style="max-width: 18rem;">
    <div class="card-header"><h4>PROFITS TODAY</h4></div>
    <div class="card-body">
        <h4 class="card-title"></h4>
        <h4 class="card-text">
            
                {% for i in today_profit %}
                {{i[1]}} on <br>
                    {{ i[0] }}
                {% endfor %}
           
        </h4>
    </div>
</div>
  </div>



</div>



  <div class="container">
    <canvas id="bar-chart" width="800" height="450"></canvas>
    <canvas id="bar" width="800" height="450"></canvas>
    <canvas id="line-chart" width="800" height="450"></canvas>
    <canvas id="line" width="800" height="450"></canvas>
  </div>

  <table class="table table-dark table-striped-columns">
    
    <thead>
      <tr ><th style="text-align: center;font-size: larger;">LATEST SALES</th>
        <th></th>
      </tr>
      
      <tr>
        <th>DATE</th>
        <th>TOTAL SALES</th>
      </tr>
    </thead>
    <tbody>
      {%for i in latest%}
      <tr>
        <td>{{i[0]}}</td>
        <td>{{i[1]}}</td>
      </tr>
      {%endfor%}
    </tbody>
  </table>







  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
  <script>
   new Chart(document.getElementById("bar-chart"), {
    type: 'bar',
    data: {
      labels: {{ p_name | safe }},
      datasets: [
        {
          label: "TOTAL SALES",
          backgroundColor: ["#3e95cd", "850","#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#c45850","#3e95cd", "850","#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#c45850","#c45850","#3e95cd", "850","#3e95cd","850","#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#c45850","#3e95cd", "850","#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#c45850,#c45850","#3e95cd", "850","#3e95c","#3e95cd", "850","#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#3e95cd", "850","#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#3e95cd", "850","#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#3e95cd", "850","#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#3e95cd", "850","#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9"],
          data: {{ p_sale | safe }}
        }
      ]
    },
    options: {
      legend: { display: false },
      title: {
        display: true,
        text: ' TOTAL SALES PER PRODUCT'
      }
    }
});


new Chart(document.getElementById("bar"), {
    type: 'bar',
    data: {
      labels: {{ product_name | safe }},
      datasets: [
        {
          label: "TOTAL PROFITS",
          backgroundColor: ["#3e95cd", "850","#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#3e95cd", "850","#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#3e95cd", "850","#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#3e95cd", "850","#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#3e95cd", "850","#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#3e95cd", "850","#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#3e95cd", "850","#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#3e95cd", "850","#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#3e95cd", "850","#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#3e95cd", "850","#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#3e95cd", "850","#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#3e95cd", "850","#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#3e95cd", "850","#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#3e95cd", "850","#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9"],
          data: {{ profits_prod | safe }}
        }
      ]
    },
    options: {
      legend: { display: false },
      title: {
        display: true,
        text: 'PROFITS PER PRODUCT'
      }
    }
});


new Chart(document.getElementById("line-chart"), {
  type: 'line',
  data: {
    labels: {{ prof1 | safe}},
    datasets: [
     { 
        data: {{ day1 | safe }} ,
        label: "PROFITS PER DAY",
        borderColor: "#8e5ea2",
        fill: false
      },
    ]
  },
  options: {
    title: {
      display: true,
      text: 'PROFITS PER DAY'
    }
  }
});


new Chart(document.getElementById("line"), {
  type: 'line',
  data: {
    labels: {{ sales1 | safe}},
    datasets: [
     { 
        data: {{ date2 | safe }} ,
        label: "SALES PER DAY",
        borderColor: "#8e5ea2",
        fill: false
      },
    ]
  },
  options: {
    title: {
      display: true,
      text: 'SALES PER DAY'
    }
  }
});
  </script>







</body>

</html>